@import "tailwindcss";

/* ============================================
   RETRO 8-BIT GAME STYLE - Global Styles
   ============================================ */

/* CSS Variables for Retro Theme */
:root {
  /* Retro Colors */
  --retro-cream: #f5f5dc;
  --retro-beige: #e8dcc4;
  --retro-teal: #40e0d0;
  --retro-cyan: #5bc0be;
  --retro-orange: #f4a460;
  --retro-gold: #ffd700;
  --retro-pink: #ff69b4;
  --retro-red: #ff6b6b;
  --retro-blue-dark: #1a1a4e;
  --retro-blue: #4169e1;
  --retro-green: #32cd32;

  /* Win95 Style */
  --win95-light: #ffffff;
  --win95-medium: #c0c0c0;
  --win95-dark: #808080;
  --win95-darker: #404040;
  --win95-bg: #c0c0c0;
  --win95-title: #000080;

  /* Pixel border width */
  --pixel-border: 3px;
}

/* Base Styles */
* {
  box-sizing: border-box;
  /* Disable anti-aliasing for pixel-perfect rendering */
  image-rendering: pixelated;
  -webkit-font-smoothing: none;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'VT323', monospace;
  font-size: 18px;
  letter-spacing: 0.5px;
  background-color: var(--retro-blue-dark);
  background-image:
    /* Grid pattern */
    linear-gradient(rgba(65, 105, 225, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(65, 105, 225, 0.1) 1px, transparent 1px),
    /* Scanline effect */
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
  background-size: 20px 20px, 20px 20px, 100% 4px;
}

/* Pixel Font Utility Classes */
.font-pixel {
  font-family: 'Press Start 2P', cursive;
  font-size: 12px;
  line-height: 1.8;
}

.font-retro {
  font-family: 'VT323', monospace;
  font-size: 20px;
  line-height: 1.4;
}

/* ============================================
   WIN95 STYLE WINDOW COMPONENTS
   ============================================ */

/* Retro Window Container */
.retro-window {
  background-color: var(--win95-medium);
  border: var(--pixel-border) solid;
  border-color: var(--win95-light) var(--win95-darker) var(--win95-darker) var(--win95-light);
  box-shadow:
    inset 1px 1px 0 var(--win95-light),
    inset -1px -1px 0 var(--win95-dark),
    4px 4px 0 rgba(0, 0, 0, 0.3);
}

/* Window Title Bar */
.retro-titlebar {
  background: linear-gradient(90deg, #000080, #1084d0);
  color: white;
  padding: 4px 6px;
  font-family: 'Press Start 2P', cursive;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  user-select: none;
}

/* Window Title Bar Buttons */
.retro-titlebar-btn {
  width: 16px;
  height: 14px;
  background-color: var(--win95-medium);
  border: 2px solid;
  border-color: var(--win95-light) var(--win95-darker) var(--win95-darker) var(--win95-light);
  font-family: 'Press Start 2P', cursive;
  font-size: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  padding: 0;
}

.retro-titlebar-btn:active {
  border-color: var(--win95-darker) var(--win95-light) var(--win95-light) var(--win95-darker);
}

/* Window Content Area */
.retro-content {
  background-color: var(--retro-cream);
  padding: 12px;
  border: 2px solid;
  border-color: var(--win95-dark) var(--win95-light) var(--win95-light) var(--win95-dark);
  margin: 3px;
}

/* ============================================
   RETRO BUTTONS
   ============================================ */

.retro-btn {
  font-family: 'Press Start 2P', cursive;
  font-size: 10px;
  padding: 8px 16px;
  background-color: var(--win95-medium);
  border: 3px solid;
  border-color: var(--win95-light) var(--win95-darker) var(--win95-darker) var(--win95-light);
  cursor: pointer;
  transition: none;
  position: relative;
  color: #000;
}

.retro-btn:hover {
  background-color: #d0d0d0;
}

.retro-btn:active {
  border-color: var(--win95-darker) var(--win95-light) var(--win95-light) var(--win95-darker);
  padding: 9px 15px 7px 17px;
}

.retro-btn:disabled {
  color: var(--win95-dark);
  cursor: not-allowed;
}

/* Primary Retro Button */
.retro-btn-primary {
  background: linear-gradient(180deg, var(--retro-teal) 0%, #2ec4b6 100%);
  color: #000;
}

.retro-btn-primary:hover {
  background: linear-gradient(180deg, #4de8da 0%, var(--retro-teal) 100%);
}

/* Danger Retro Button */
.retro-btn-danger {
  background: linear-gradient(180deg, var(--retro-red) 0%, #e55555 100%);
  color: #fff;
}

/* ============================================
   RETRO INPUT FIELDS
   ============================================ */

.retro-input {
  font-family: 'VT323', monospace;
  font-size: 20px;
  padding: 8px 12px;
  background-color: #fff;
  border: 3px solid;
  border-color: var(--win95-dark) var(--win95-light) var(--win95-light) var(--win95-dark);
  outline: none;
}

.retro-input:focus {
  background-color: #ffffcc;
}

.retro-input::placeholder {
  color: var(--win95-dark);
}

/* ============================================
   PIXEL ART ELEMENTS
   ============================================ */

/* Pixel Heart */
.pixel-heart {
  display: inline-block;
  width: 16px;
  height: 14px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 14'%3E%3Cpath fill='%23ff6b6b' d='M1 4h2v2H1zM3 2h2v2H3zM5 0h2v2H5zM7 2h2v2H7zM9 0h2v2H9zM11 2h2v2h-2zM13 4h2v2h-2zM1 6h2v2H1zM13 6h2v2h-2zM3 8h2v2H3zM11 8h2v2h-2zM5 10h2v2H5zM9 10h2v2H9zM7 12h2v2H7z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

.pixel-heart-empty {
  display: inline-block;
  width: 16px;
  height: 14px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 14'%3E%3Cpath fill='%23808080' d='M1 4h2v2H1zM3 2h2v2H3zM5 0h2v2H5zM7 2h2v2H7zM9 0h2v2H9zM11 2h2v2h-2zM13 4h2v2h-2zM1 6h2v2H1zM13 6h2v2h-2zM3 8h2v2H3zM11 8h2v2h-2zM5 10h2v2H5zM9 10h2v2H9zM7 12h2v2H7z'/%3E%3Cpath fill='%23404040' d='M3 4h2v2H3zM5 2h2v2H5zM9 2h2v2H9zM11 4h2v2h-2zM3 6h10v2H3zM5 8h6v2H5zM7 10h2v2H7z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* Pixel Star */
.pixel-star {
  display: inline-block;
  width: 16px;
  height: 16px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%23ffd700' d='M7 0h2v2H7zM7 2h2v2H7zM3 4h10v2H3zM5 6h6v2H5zM3 8h4v2H3zM9 8h4v2H9zM1 10h4v2H1zM11 10h4v2h-4zM1 12h2v2H1zM13 12h2v2h-2z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* ============================================
   SEGMENTED PROGRESS BAR (8-bit style)
   ============================================ */

.retro-gauge {
  display: flex;
  gap: 2px;
  padding: 4px;
  background-color: #000;
  border: 2px solid;
  border-color: var(--win95-dark) var(--win95-light) var(--win95-light) var(--win95-dark);
}

.retro-gauge-segment {
  width: 20px;
  height: 16px;
  background-color: #333;
  border: 1px solid #222;
}

.retro-gauge-segment.filled {
  background-color: var(--retro-green);
  box-shadow: inset 0 -4px 0 rgba(0, 0, 0, 0.3);
}

.retro-gauge-segment.filled.low {
  background-color: var(--retro-red);
}

.retro-gauge-segment.filled.mid {
  background-color: var(--retro-orange);
}

.retro-gauge-segment.filled.high {
  background-color: var(--retro-gold);
}

.retro-gauge-segment.filled.max {
  background-color: var(--retro-pink);
  animation: pulse-glow 1s ease-in-out infinite;
}

/* ============================================
   RETRO MESSAGE BUBBLES
   ============================================ */

.retro-bubble {
  position: relative;
  padding: 12px 16px;
  font-family: 'VT323', monospace;
  font-size: 20px;
  border: 3px solid #333;
  background-color: #fff;
}

.retro-bubble-user {
  background-color: var(--retro-cyan);
  color: #000;
}

.retro-bubble-idol {
  background-color: var(--retro-cream);
  color: #000;
}

/* Pixel speech bubble tail */
.retro-bubble::after {
  content: '';
  position: absolute;
  bottom: -8px;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid #333;
}

.retro-bubble-user::after {
  right: 16px;
}

.retro-bubble-idol::after {
  left: 16px;
}

.retro-bubble::before {
  content: '';
  position: absolute;
  bottom: -5px;
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
}

.retro-bubble-user::before {
  right: 18px;
  border-top: 6px solid var(--retro-cyan);
}

.retro-bubble-idol::before {
  left: 18px;
  border-top: 6px solid var(--retro-cream);
}

/* ============================================
   DECORATIVE ELEMENTS
   ============================================ */

/* Scanline overlay */
.scanlines::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
  pointer-events: none;
}

/* Pixel decoration border */
.pixel-border {
  border: 4px solid #333;
  box-shadow:
    4px 4px 0 #333,
    inset 2px 2px 0 rgba(255, 255, 255, 0.3);
}

/* Retro Tab Style */
.retro-tab {
  font-family: 'Press Start 2P', cursive;
  font-size: 8px;
  padding: 8px 12px;
  background-color: var(--win95-medium);
  border: 2px solid;
  border-color: var(--win95-light) var(--win95-darker) var(--win95-darker) var(--win95-light);
  border-bottom: none;
  margin-bottom: -2px;
  position: relative;
  z-index: 1;
}

.retro-tab.active {
  background-color: var(--retro-cream);
  z-index: 2;
}

/* Blinking cursor */
.blink-cursor::after {
  content: '_';
  animation: blink 1s step-end infinite;
}

/* Noise/grain texture overlay */
.noise-overlay {
  position: relative;
}

.noise-overlay::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
}

/* ============================================
   RESPONSIVE FONT SIZES
   ============================================ */

@media (max-width: 640px) {
  .font-pixel {
    font-size: 10px;
  }

  .font-retro {
    font-size: 18px;
  }

  .retro-btn {
    font-size: 8px;
    padding: 6px 12px;
  }

  .retro-titlebar {
    font-size: 8px;
  }
}

/* ============================================
   ANIMATIONS FOR STAT CHANGES
   ============================================ */

@keyframes stat-increase {
  0% { color: inherit; }
  25% { color: var(--retro-green); transform: scale(1.2); }
  50% { color: var(--retro-gold); }
  75% { color: var(--retro-green); transform: scale(1.1); }
  100% { color: inherit; transform: scale(1); }
}

@keyframes stat-decrease {
  0% { color: inherit; }
  25% { color: var(--retro-red); transform: scale(0.9); }
  50% { color: var(--retro-orange); }
  75% { color: var(--retro-red); transform: scale(0.95); }
  100% { color: inherit; transform: scale(1); }
}

.stat-up {
  animation: stat-increase 0.5s ease-out;
}

.stat-down {
  animation: stat-decrease 0.5s ease-out;
}

/* Level up sparkle effect */
@keyframes levelup-sparkle {
  0%, 100% {
    box-shadow:
      0 0 5px var(--retro-gold),
      0 0 10px var(--retro-gold),
      0 0 15px var(--retro-gold);
  }
  50% {
    box-shadow:
      0 0 10px var(--retro-gold),
      0 0 20px var(--retro-gold),
      0 0 30px var(--retro-gold),
      0 0 40px var(--retro-pink);
  }
}

.levelup-glow {
  animation: levelup-sparkle 1s ease-in-out infinite;
}
